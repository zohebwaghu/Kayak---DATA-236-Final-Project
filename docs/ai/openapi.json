{"openapi":"3.1.0","info":{"title":"AI Recommendation Service","description":"Intelligent travel recommendation engine with deal scoring and real-time chat","version":"3.0.0"},"paths":{"/":{"get":{"summary":"Root","description":"Root endpoint","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/ai/health":{"get":{"summary":"Health Check","description":"Detailed health check","operationId":"health_check_api_ai_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/ai/chat":{"post":{"summary":"Chat","description":"Chat with AI assistant","operationId":"chat_api_ai_chat_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ai/recommendations":{"post":{"summary":"Get Recommendations","description":"Get personalized travel recommendations","operationId":"get_recommendations_api_ai_recommendations_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ai/score":{"post":{"summary":"Score Deal","description":"Score a deal using the deal scoring algorithm","operationId":"score_deal_api_ai_score_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScoreRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ai/bundle":{"post":{"summary":"Create Bundle","description":"Create flight + hotel bundles","operationId":"create_bundle_api_ai_bundle_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BundleRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ai/history/{session_id}":{"get":{"summary":"Get Conversation History","description":"Get conversation history","operationId":"get_conversation_history_api_ai_history__session_id__get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Clear Conversation","description":"Clear conversation history","operationId":"clear_conversation_api_ai_history__session_id__delete","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ai/user/{user_id}":{"get":{"summary":"Get User Info","description":"Get user info and preferences","operationId":"get_user_info_api_ai_user__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"BundleRequest":{"properties":{"flights":{"items":{"type":"object"},"type":"array","title":"Flights"},"hotels":{"items":{"type":"object"},"type":"array","title":"Hotels"},"limit":{"type":"integer","title":"Limit","default":5}},"type":"object","required":["flights","hotels"],"title":"BundleRequest"},"ChatRequest":{"properties":{"query":{"type":"string","title":"Query"},"user_id":{"type":"string","title":"User Id"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"},"preferences":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Preferences"}},"type":"object","required":["query","user_id"],"title":"ChatRequest"},"ChatResponse":{"properties":{"response":{"type":"string","title":"Response"},"session_id":{"type":"string","title":"Session Id"},"user_id":{"type":"string","title":"User Id"},"recommendations":{"items":{"type":"object"},"type":"array","title":"Recommendations","default":[]},"timestamp":{"type":"string","title":"Timestamp"}},"type":"object","required":["response","session_id","user_id","timestamp"],"title":"ChatResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"RecommendationRequest":{"properties":{"destination":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Destination"},"origin":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Origin","default":"SFO"},"date_from":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date From"},"date_to":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date To"},"user_id":{"type":"string","title":"User Id"},"preferences":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Preferences"},"limit":{"type":"integer","title":"Limit","default":10}},"type":"object","required":["user_id"],"title":"RecommendationRequest"},"ScoreRequest":{"properties":{"current_price":{"type":"number","title":"Current Price"},"avg_30d_price":{"type":"number","title":"Avg 30D Price"},"availability":{"type":"integer","title":"Availability","default":10},"rating":{"type":"number","title":"Rating","default":4.0},"has_promotion":{"type":"boolean","title":"Has Promotion","default":false}},"type":"object","required":["current_price","avg_30d_price"],"title":"ScoreRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}